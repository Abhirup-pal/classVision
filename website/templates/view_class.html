{% extends "base.html" %}

{% block head %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/form.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='css/list.css') }}">

{% endblock %}

{% block title %}View classes{% endblock %}

{% block content %}
<div>
  <h1>Create a New Class </h1>
  <form method="POST" action="/view_class">
    <label for="class_name">Class Name:</label>
    <input type="text" id="class_name" name="class_name" required>
    <input type="submit" value="Create">
  </form>
  <h1>View Classes</h1>

  <div class="list-div">
    {% if class_data|length==0 %}
    <div>No classes found.</div>
    {% else %}
    {% for cls in class_data %}
        <div class="class-div">
          <div class="same-line">
            <h2>Class name : <span style="color:#3165ac">{{cls['class_name']}}</span></h2>
            <a href="/deleteClass/{{cls['class_name']}}">Delete</a>
          </div>
  
          {% if cls['students_list']|length==0 %}
          <div>No student was added to this class</div>
          {% else %}
          <table class="class-list-table">
            <tbody>
              {% for stud in cls['students_list'] %}
              <tr>
                <td>
                  {{stud}}
                </td>
              </tr>
              {% endfor %}
            </tbody>
          </table>
          {% endif %}
        </div>

    {% endfor %}
    {% endif %}
  </div>
  {% endblock %}